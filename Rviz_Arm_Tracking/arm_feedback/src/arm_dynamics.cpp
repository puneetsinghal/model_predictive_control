/**
    File: arm_dynamics.cpp
    Description: Calculate the dynamics equations of a 5-DOF HEBI manipulator
    arm used on the Biorobotics Lab Intelligent Mobile Robot (IMR) project
    Header File: arm_dynamics.hpp

    @author Ky Woodard
    @version 1.0 2/12/2017

    Functions:
		gravityComp
			Description: Calculate the necessary torque required to cancel
						 gravitational forces on the joints
			Input:
				theta  - current angles of the five joints [rad]
			Output:
				torque - computed torque on the 5 joints [N-m]

		inverseDynamics
			Description: Calculate the inverse dynamics of the arm, which
					 	 includes inertia, corriolis, gravitational, and
					 	 friction effect
			Inputs:
				theta  - current angle of the 5 joints [rad]
				omega  - current angular velocity of the 5 joints [rad/s]
				alpha  - desired angular acceleration of the 5 joints [rad/s^2]
			Output:
				torque - computed torque to produce desired acceleration
						 at the 5 joints [N-m]

		gravity
			Description: Calculate the gravity torque of the inverse dynamics
						 based on the current angle of the joints
			Inputs:
				theta  - current angle of the 5 joints
			Output:
				torque - computed torque on the 5 joints [N-m]

		inertia
			Description: Calculate the inertia torque of the inverse dynamics
						 based on the current angle of the joints
			Inputs:
				theta  - current angle of the 5 joints [rad]
			Output:
				Inertia - inertia matrix (5x5)

		corriolis
			Description: Calculate the corriolis torque of the inverse dynamics
						 based on the current angle and angular velocity of the
						 joints
			Inputs:
				theta  - current angle of the 5 joints [rad]
				omega  	- current angle of the 5 joints [rad/s]
			Output:
				Corriolis - Corriolis matrix (5x5)
*/

#include <arm_dynamics.hpp>
#include <math.h>
#include <eigen3/Eigen/Eigen>

void gravityComp(const std::vector<double> &theta, std::vector<double> &torque)
{
	double g = 9.81; //Gravity
	//Masses of each of the links
	double m[5] = {0.6216,0.6616,0.6416,0.4014,0};
	//Center of mass of each link
	double COM[5][3] = {{-0.005,0.016,0.044},{0.,0.001,0.212},
						{-0.001,0.,0.210},{0.010,-0.035,0.050},
						{0.,0.,0.}};
	//Length of links 2 and 3
	double L1 = 0.280;
	//Offset position in zero configuration in the base frame
	double y[6] = {0,-0.006,0.031,-0.031,-0.038,0};
	double z[6] = {0,0.07,0.280,0.280,0.055,0.032};

	torque = {0,g*m[1]*(COM[1][0]*cos(theta[1])+
			(-1.)*(COM[1][2])*sin(theta[1]))+g*m[2]*(COM[2][0]*cos(theta[1]+
			(-1.)*theta[2])+(-1.)*L1*sin(theta[1])+(-1.)*(COM[2][2]+
			(-1.)*L1+z[1])*sin(theta[1]+(-1.)*theta[2]))+
			g*m[3]*(COM[3][0]*cos(theta[1]+(-1.)*theta[2]+theta[3])+
			(-1.)*L1*sin(theta[1])+(-1.)*L1*sin(theta[1]+(-1.)*theta[2])+
			(-1.)*(COM[3][2]+(-2)*L1+z[1]+z[2])*sin(theta[1]+
			(-1.)*theta[2]+theta[3]))+g*m[4]*((-1.)*L1*sin(theta[1])+
			(-1.)*L1*sin(theta[1]+(-1.)*theta[2])+(-1.)*(COM[4][2]+
			(-2)*L1+z[1]+z[2]+z[3])*sin(theta[1]+
			(-1.)*theta[2]+theta[3])+cos(theta[1]+(-1.)*theta[2]+theta[3])*
			(COM[4][0]*cos(theta[4])+(-1.)*(COM[4][1]+y[0]+y[1]+
			y[2])*sin(theta[4]))),g*m[2]*((-1.)*COM[2][0]*cos(theta[1]+
			(-1.)*theta[2])+(COM[2][2]+(-1.)*L1+z[1])*sin(theta[1]+
			(-1.)*theta[2]))+g*m[3]*((-1.)*COM[3][0]*cos(theta[1]+(-1.)*
			theta[2]+theta[3])+L1*sin(theta[1]+(-1.)*theta[2])+(COM[3][2]+
			(-2)*L1+z[1]+z[2])*sin(theta[1]+(-1.)*theta[2]+theta[3]))+
			g*m[4]*(L1*sin(theta[1]+(-1.)*theta[2])+(COM[4][2]+(-2)*L1+
			z[1]+z[2]+z[3])*sin(theta[1]+(-1.)*theta[2]+theta[3])+
			(-1.)*cos(theta[1]+(-1.)*theta[2]+theta[3])*(COM[4][0]*
			cos(theta[4])+(-1.)*(COM[4][1]+y[0]+y[1]+y[2])*sin(theta[4]))),
			g*m[3]*(COM[3][0]*cos(theta[1]+(-1.)*theta[2]+theta[3])+(-1.)*
			(COM[3][2]+(-2)*L1+z[1]+z[2])*sin(theta[1]+(-1.)*theta[2]+
			theta[3]))+g*m[4]*((-1.)*(COM[4][2]+(-2)*L1+z[1]+z[2]+z[3])*
			sin(theta[1]+(-1.)*theta[2]+theta[3])+cos(theta[1]+(-1.)*
			theta[2]+theta[3])*(COM[4][0]*cos(theta[4])+(-1.)*(COM[4][1]+
			y[0]+y[1]+y[2])*sin(theta[4]))),g*m[4]*sin(theta[1]+
			(-1.)*theta[2]+theta[3])*((-1.)*(COM[4][1]+y[0]+y[1]+y[2])*
			cos(theta[4])+(-1.)*COM[4][0]*sin(theta[4]))};
}


void forwardDynamics(const Eigen::VectorXd &theta, const Eigen::VectorXd &omega, 
						const Eigen::VectorXd &torque,  std::vector<double> &alpha)
{
	Eigen::MatrixXd Inertia(5,5);
	Eigen::MatrixXd Corriolis(5,5);
	Eigen::MatrixXd ViscousFriction(5,5);
	Eigen::VectorXd gravity_torque(5);
	Eigen::VectorXd fric_torque(5);
	Eigen::VectorXd vec_f(5);

	Eigen::VectorXd comp_alpha(5);

	vec_f << 8.,9.5,8.,2.,9.;  //Changed friction of 0th and 2nd joint from 10
	ViscousFriction << vec_f[0],0,0,0,0,
						0,vec_f[1],0,0,0,
						0,0,vec_f[2],0,0,
						0,0,0,vec_f[3],0,
						0,0,0,0,vec_f[4];

	//Compute the Inertia matrix, Corriolis matrix, and gravity torques
	inertia(theta,Inertia);
	corriolis(theta,omega,Corriolis);
	gravity(theta,gravity_torque);

	//Compute the forward dynamics angular accelerations
	comp_alpha = (Inertia.inverse())*(torque - (gravity_torque + Corriolis*omega + ViscousFriction*omega));

	alpha.clear();
	for (uint i =0; i < 5; ++i)
	{
		alpha.push_back(comp_alpha[i]);
	}

}

void forwardDynamics(const Eigen::VectorXd &theta, const Eigen::VectorXd &omega, 
						const Eigen::VectorXd &torque,  Eigen::VectorXd &alpha)
{
	Eigen::MatrixXd Inertia(5,5);
	Eigen::MatrixXd Corriolis(5,5);
	Eigen::MatrixXd ViscousFriction(5,5);
	Eigen::VectorXd gravity_torque(5);
	Eigen::VectorXd fric_torque(5);
	Eigen::VectorXd vec_f(5);

	Eigen::VectorXd comp_alpha(5);

	vec_f << 8.,9.5,8.,2.,9.;  //Changed friction of 0th and 2nd joint from 10
	ViscousFriction << vec_f[0],0,0,0,0,
						0,vec_f[1],0,0,0,
						0,0,vec_f[2],0,0,
						0,0,0,vec_f[3],0,
						0,0,0,0,vec_f[4];

	//Compute the Inertia matrix, Corriolis matrix, and gravity torques
	inertia(theta,Inertia);
	corriolis(theta,omega,Corriolis);
	gravity(theta,gravity_torque);

	//Compute the forward dynamics angular accelerations
	alpha = (Inertia.inverse())*(torque - (gravity_torque + Corriolis*omega + ViscousFriction*omega));
}



void inverseDynamics(const Eigen::VectorXd &theta,const Eigen::VectorXd &omega,
					const Eigen::VectorXd &alpha, Eigen::VectorXd &torque)
{
	Eigen::MatrixXd Inertia(5,5);
	Eigen::MatrixXd Corriolis(5,5);
	Eigen::MatrixXd ViscousFriction(5,5);
	Eigen::VectorXd gravity_torque(5);
	
	Eigen::VectorXd fric_torque(5);
	Eigen::VectorXd vec_f(5);

	//Define the dynamic friction matrix
	vec_f << 8.,9.5,8.,2.,9.;  //Changed friction of 0th and 2nd joint from 10
	ViscousFriction << vec_f[0],0,0,0,0,
						0,vec_f[1],0,0,0,
						0,0,vec_f[2],0,0,
						0,0,0,vec_f[3],0,
						0,0,0,0,vec_f[4];
	
	//Compute the Inertia matrix, Corriolis matrix, and gravity torques
	inertia(theta,Inertia);
	corriolis(theta,omega,Corriolis);
	gravity(theta,gravity_torque);
	
	//Compute the inverse dynamics torque based on desired acceleration
	torque = Inertia*alpha+Corriolis*omega+gravity_torque+ViscousFriction*omega;
}


void inverseDynamics(const Eigen::VectorXd &theta,const Eigen::VectorXd &omega,
					const Eigen::VectorXd &alpha,std::vector<double> &torque)
{
	Eigen::MatrixXd Inertia(5,5);
	Eigen::MatrixXd Corriolis(5,5);
	Eigen::MatrixXd ViscousFriction(5,5);
	Eigen::VectorXd gravity_torque(5);
	Eigen::VectorXd comp_torque(5);
	Eigen::VectorXd fric_torque(5);
	Eigen::VectorXd vec_f(5);

	//Define the dynamic friction matrix
	vec_f << 8.,9.5,8.,2.,9.;  //Changed friction of 0th and 2nd joint from 10
	ViscousFriction << vec_f[0],0,0,0,0,
						0,vec_f[1],0,0,0,
						0,0,vec_f[2],0,0,
						0,0,0,vec_f[3],0,
						0,0,0,0,vec_f[4];
	
	//Compute the Inertia matrix, Corriolis matrix, and gravity torques
	inertia(theta,Inertia);
	corriolis(theta,omega,Corriolis);
	gravity(theta,gravity_torque);
	
	//Compute the inverse dynamics torque based on desired acceleration
	comp_torque = Inertia*alpha+Corriolis*omega+gravity_torque+ViscousFriction*omega;


	//Converting Eigen::VectorXd to std::vector<double>
	for(uint i=0;i<5;i++)
	{
		torque[i] = comp_torque[i];
	}
}

void gravity(const Eigen::VectorXd &theta,Eigen::VectorXd &torque)
{
	double g = 9.81; //Gravity
	//Masses of each of the links
	double m[5] = {0.6216,0.6616,0.6416,0.4014,0};

	// Center of mass of each link
	double COM[5][3] = {{-0.005, 0.016, 0.044},{0.000,0.001,0.212},
					  {-0.001,0.000,0.210},{0.010,-0.035,0.050},
					  {0.,0.,0.}};

	// Length of links 2 and 3
	double L1 = 0.280;

	double y[6] = {0,-0.006,0.031,-0.031,-0.038,0};
	double z[6] = {0,0.07,0.280,0.280,0.055,0.032};
	
	torque << 0,g*m[1]*(COM[1][0]*cos(theta[1])+
			(-1)*(COM[1][2])*sin(theta[1]))+g*m[2]*(COM[2][0]*cos(theta[1]+
			(-1)*theta[2])+(-1)*L1*sin(theta[1])+(-1)*(COM[2][2]+
			(-1)*L1+z[2])*sin(theta[1]+(-1)*theta[2]))+
			g*m[3]*(COM[3][0]*cos(theta[1]+(-1)*theta[2]+theta[3])+
			(-1)*L1*sin(theta[1])+(-1)*L1*sin(theta[1]+(-1)*theta[2])+
			(-1)*(COM[3][2]+(-2)*L1+z[2]+z[3])*sin(theta[1]+
			(-1)*theta[2]+theta[3]))+g*m[4]*((-1)*L1*sin(theta[1])+
			(-1)*L1*sin(theta[1]+(-1)*theta[2])+(-1)*(COM[4][2]+
			(-2)*L1+z[2]+z[3]+z[4])*sin(theta[1]+
			(-1)*theta[2]+theta[3])+cos(theta[1]+(-1)*theta[2]+theta[3])*
			(COM[4][0]*cos(theta[4])+(-1)*(COM[4][1]+y[1]+y[2]+
			y[3])*sin(theta[4]))),g*m[2]*((-1)*COM[2][0]*cos(theta[1]+
			(-1)*theta[2])+(COM[2][2]+(-1)*L1+z[2])*sin(theta[1]+
			(-1)*theta[2]))+g*m[3]*((-1)*COM[3][0]*cos(theta[1]+(-1)*
			theta[2]+theta[3])+L1*sin(theta[1]+(-1)*theta[2])+(COM[3][2]+
			(-2)*L1+z[2]+z[3])*sin(theta[1]+(-1)*theta[2]+theta[3]))+
			g*m[4]*(L1*sin(theta[1]+(-1)*theta[2])+(COM[4][2]+(-2)*L1+
			z[2]+z[3]+z[4])*sin(theta[1]+(-1)*theta[2]+theta[3])+
			(-1)*cos(theta[1]+(-1)*theta[2]+theta[3])*(COM[4][0]*
			cos(theta[4])+(-1)*(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))),
			g*m[3]*(COM[3][0]*cos(theta[1]+(-1)*theta[2]+theta[3])+(-1)*
			(COM[3][2]+(-2)*L1+z[2]+z[3])*sin(theta[1]+(-1)*theta[2]+
			theta[3]))+g*m[4]*((-1)*(COM[4][2]+(-2)*L1+z[2]+z[3]+z[4])*
			sin(theta[1]+(-1)*theta[2]+theta[3])+cos(theta[1]+(-1)*
			theta[2]+theta[3])*(COM[4][0]*cos(theta[4])+(-1)*(COM[4][1]+
			y[1]+y[2]+y[3])*sin(theta[4]))),g*m[4]*sin(theta[1]+
			(-1)*theta[2]+theta[3])*((-1)*(COM[4][1]+y[1]+y[2]+y[3])*
			cos(theta[4])+(-1)*COM[4][0]*sin(theta[4]));

}

void inertia(const Eigen::VectorXd &theta,Eigen::MatrixXd &Inertia)
{
	//Masses of each of the links
	double m[5] = {0.6216,0.6616,0.6416,0.4014,0};
	//Center of mass of each link
	double COM[5][3] = {{-0.005,0.016,0.044},{0.,0.001,0.212},
					  {-0.001,0.,0.210},{0.010,-0.035,0.050},
					  {0.,0.,0.}};
	//Length of links 2 and 3
	double L1 = 0.280;
	//Offset position in zero configuration in the base frame
	double y[6] = {0,-0.006,0.031,-0.031,-0.038,0};
	double z[6] = {0,0.07,0.280,0.280,0.055,0.032};

	double Ixx[5] = {0.000528,0.006440,0.006348,0.000311,0.};
	double Iyy[5] = {0.000743,0.006426,0.006331,0.000383,0.};
	double Izz[5] = {0.000516,0.000393,0.000385,0.000941,0.};
	double Ixy[5] = {0.000041,0.000006,0.000006,-0.000138,0.};
	double Ixz[5] = {-0.000036,0.000007,-0.000008,0.000028,0.};
	double Iyz[5] = {0.000021,0.000596,-0.000585,-0.000063,0.};

	Inertia << Izz[0]+m[1]*pow(COM[1][1]+y[1],2)*pow(cos(theta[1]),2)+
				m[2]*pow(COM[2][1]+y[1]+y[2],2)*pow(cos(theta[1]-theta[2]),2)+
				m[3]*pow(COM[3][1]+y[1]+y[2]+y[3],2)*pow(cos(theta[1]-theta[2]+theta[3]),2)+
				m[0]*pow(sin(theta[0])*(COM[0][1]*cos(theta[0])+COM[0][0]*sin(theta[0]))-
				cos(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])),2)+
				m[0]*pow(-(cos(theta[0])*(COM[0][1]*cos(theta[0])+COM[0][0]*sin(theta[0])))-
				sin(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])),2)+
				m[1]*pow(COM[1][1]+y[1],2)*pow(sin(theta[1]),2)+sin(theta[1])*(Ixz[1]*cos(theta[1])+Ixx[1]*sin(theta[1]))+
				cos(theta[1])*(Izz[1]*cos(theta[1])+Ixz[1]*sin(theta[1]))+
				m[1]*pow(COM[1][0]*cos(theta[1])-(COM[1][2]+z[0])*sin(theta[1]),2)+
				m[2]*pow(COM[2][1]+y[1]+y[2],2)*pow(sin(theta[1]-theta[2]),2)+
				sin(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2]))+
				cos(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))+
				m[2]*pow(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]),
				2)+m[3]*pow(COM[3][1]+y[1]+y[2]+y[3],2)*pow(sin(theta[1]-theta[2]+theta[3]),2)+
				sin(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+
				Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
				cos(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
				Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
				m[3]*pow(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
				COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
				z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
				z[3]*sin(theta[1]-theta[2]+theta[3]),2)+
				m[4]*pow(sin(theta[1]-theta[2]+theta[3]),2)*
				pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
				cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
				(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
				sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
				(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
				cos(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
				Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))
				+m[4]*pow(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])),2)+
				m[4]*pow(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
				(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))),2)
				,-(Iyz[1]*cos(theta[1]))-m[1]*(COM[1][1]+y[1])*(-COM[1][2]-z[0])*cos(theta[1])-Iyz[2]*cos(theta[1]-theta[2])-
				m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))-
				Iyz[3]*cos(theta[1]-theta[2]+theta[3])-m[3]*(COM[3][1]+y[1]+y[2]+y[3])*
				(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
				cos(theta[1]-theta[2]+theta[3])-Ixy[1]*sin(theta[1])+COM[1][0]*m[1]*(COM[1][1]+y[1])*sin(theta[1])-
				Ixy[2]*sin(theta[1]-theta[2])+m[2]*(COM[2][1]+y[1]+y[2])*sin(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
				Ixy[3]*sin(theta[1]-theta[2]+theta[3])+m[3]*(COM[3][1]+y[1]+y[2]+y[3])*
				(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
				m[4]*sin(theta[1]-theta[2]+theta[3])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
				(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
				y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
				sin(theta[4])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
				cos(theta[4])*(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
				(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
				(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
				(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))),
				Iyz[2]*cos(theta[1]-theta[2])-m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])+
				Iyz[3]*cos(theta[1]-theta[2]+theta[3])-m[3]*(COM[3][1]+y[1]+y[2]+y[3])*
				(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*cos(theta[1]-theta[2]+theta[3])+
				Ixy[2]*sin(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*sin(theta[1]-theta[2])+
				Ixy[3]*sin(theta[1]-theta[2]+theta[3])+m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][0]-L1*sin(theta[3]))*
				sin(theta[1]-theta[2]+theta[3])+m[4]*sin(theta[1]-theta[2]+theta[3])*
				(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
				(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
				sin(theta[4])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
				cos(theta[4])*(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
				(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
				(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
				(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))),
				-(Iyz[3]*cos(theta[1]-theta[2]+theta[3]))-
				m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*cos(theta[1]-theta[2]+theta[3])-
				Ixy[3]*sin(theta[1]-theta[2]+theta[3])+COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*
				sin(theta[1]-theta[2]+theta[3])+m[4]*sin(theta[1]-theta[2]+theta[3])*
				(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
				(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
				sin(theta[4])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
				cos(theta[4])*(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
				(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
				(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
				(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))),
				Izz[4]*cos(theta[1]-theta[2]+theta[3])+Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4])+
				COM[4][0]*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
				m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
				cos(theta[0])*sin(theta[4]))*(sin(theta[0])*
				(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))),
				-(Iyz[1]*cos(theta[1]))-m[1]*(COM[1][1]+y[1])*(-COM[1][2]-z[0])*cos(theta[1])-Iyz[2]*cos(theta[1]-theta[2])-
				m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))-
				Iyz[3]*cos(theta[1]-theta[2]+theta[3])-m[3]*(COM[3][1]+y[1]+y[2]+y[3])*
				(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
				cos(theta[1]-theta[2]+theta[3])-Ixy[1]*sin(theta[1])+COM[1][0]*m[1]*(COM[1][1]+y[1])*sin(theta[1])-
				Ixy[2]*sin(theta[1]-theta[2])+m[2]*(COM[2][1]+y[1]+y[2])*sin(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
				Ixy[3]*sin(theta[1]-theta[2]+theta[3])+m[3]*(COM[3][1]+y[1]+y[2]+y[3])*
				(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
				sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
				cos(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
				m[4]*sin(theta[1]-theta[2]+theta[3])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
				(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
				y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
				(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
				(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
				(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))),
				Iyy[1]+Iyy[2]+Iyy[3]+pow(COM[1][0],2)*m[1]+m[1]*pow(-COM[1][2]-z[0],2)+
				m[2]*pow(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]),2)+
				m[3]*pow(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]),2)+
				m[4]*pow(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]),2)*
				pow(cos(theta[4]),2)+m[2]*pow(COM[2][0]-L1*sin(theta[2]),2)+
				m[3]*pow(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]),2)+
				m[4]*pow(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]),2)*
				pow(sin(theta[4]),2)-sin(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
				cos(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
				m[4]*pow(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
				y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]),2),
				-Iyy[2]-Iyy[3]+m[2]*(COM[2][2]-L1+z[0]+z[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))+
				m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
				(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*pow(cos(theta[4]),2)
				-COM[2][0]*m[2]*(COM[2][0]-L1*sin(theta[2]))+
				m[3]*(-COM[3][0]-L1*sin(theta[3]))*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*pow(sin(theta[4]),2)
				+sin(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
				cos(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
				m[4]*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
				y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))*
				(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])),
				Iyy[3]+m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*
				(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*pow(cos(theta[4]),2)
				+COM[3][0]*m[3]*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*pow(sin(theta[4]),2)
				-sin(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
				cos(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
				m[4]*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
				y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))*
				(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])),
				-(Iyz[4]*cos(theta[4]))-m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])-
				Ixz[4]*sin(theta[4])+COM[4][0]*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
				L1*cos(theta[3]))*sin(theta[4]),Iyz[2]*cos(theta[1]-theta[2])-
				m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])+
				Iyz[3]*cos(theta[1]-theta[2]+theta[3])-m[3]*(COM[3][1]+y[1]+y[2]+y[3])*
				(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*cos(theta[1]-theta[2]+theta[3])+
				Ixy[2]*sin(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*sin(theta[1]-theta[2])+
				Ixy[3]*sin(theta[1]-theta[2]+theta[3])+m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][0]-L1*sin(theta[3]))*
				sin(theta[1]-theta[2]+theta[3])+cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
				(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
				sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
				cos(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))+
				m[4]*sin(theta[1]-theta[2]+theta[3])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
				(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
				(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
				(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
				(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))),
				-Iyy[2]-Iyy[3]+m[2]*(COM[2][2]-L1+z[0]+z[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))+
				m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
				(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*pow(cos(theta[4]),2)
				-COM[2][0]*m[2]*(COM[2][0]-L1*sin(theta[2]))+
				m[3]*(-COM[3][0]-L1*sin(theta[3]))*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*pow(sin(theta[4]),2)
				-sin(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
				cos(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
				m[4]*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
				y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))*
				(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])),
				Iyy[2]+Iyy[3]+pow(COM[2][0],2)*m[2]+m[2]*pow(COM[2][2]-L1+z[0]+z[2],2)+
				m[3]*pow(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]),2)+
				m[4]*pow(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]),2)*pow(cos(theta[4]),2)+
				m[3]*pow(-COM[3][0]-L1*sin(theta[3]),2)+
				m[4]*pow(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]),2)*pow(sin(theta[4]),2)+
				sin(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))+
				cos(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
				m[4]*pow(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]),2),
				-Iyy[3]+m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				pow(cos(theta[4]),2)+COM[3][0]*m[3]*(-COM[3][0]-L1*sin(theta[3]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				pow(sin(theta[4]),2)-sin(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
				cos(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
				m[4]*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))*
				(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])),
				Iyz[4]*cos(theta[4])+m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				cos(theta[4])+Ixz[4]*sin(theta[4])-COM[4][0]*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				sin(theta[4]),-(Iyz[3]*cos(theta[1]-theta[2]+theta[3]))-
				m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*cos(theta[1]-theta[2]+theta[3])-
				Ixy[3]*sin(theta[1]-theta[2]+theta[3])+COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*
				sin(theta[1]-theta[2]+theta[3])+cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
				(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
				sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
				cos(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
				m[4]*sin(theta[1]-theta[2]+theta[3])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
				(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
				(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
				(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
				(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))),
				Iyy[3]+m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*
				(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*pow(cos(theta[4]),2)
				+COM[3][0]*m[3]*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*pow(sin(theta[4]),2)
				-sin(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
				cos(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
				m[4]*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
				y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))*
				(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])),
				-Iyy[3]+m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				pow(cos(theta[4]),2)+COM[3][0]*m[3]*(-COM[3][0]-L1*sin(theta[3]))-
				m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
				pow(sin(theta[4]),2)+sin(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
				cos(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
				m[4]*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))*
				(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])),
				Iyy[3]+pow(COM[3][0],2)*m[3]+m[3]*pow(-COM[3][2]+2*L1-z[0]-z[2]-z[3],2)+
				m[4]*pow(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4],2)*pow(cos(theta[4]),2)+
				m[4]*pow(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4],2)*pow(sin(theta[4]),2)-
				sin(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
				cos(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
				m[4]*pow(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]),2),
				-(Iyz[4]*cos(theta[4]))-m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])-
				Ixz[4]*sin(theta[4])+COM[4][0]*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4]),
				Izz[4]*cos(theta[1]-theta[2]+theta[3])+Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
				Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4])+
				COM[4][0]*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
				m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
				cos(theta[0])*sin(theta[4]))*(sin(theta[0])*
				(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
				cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))
				-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
				(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
				sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
				cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))),
				-(Iyz[4]*cos(theta[4]))-m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*
				(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])-
				Ixz[4]*sin(theta[4])+COM[4][0]*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
				L1*cos(theta[3]))*sin(theta[4]),Iyz[4]*cos(theta[4])+
				m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])+
				Ixz[4]*sin(theta[4])-COM[4][0]*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4]),
				-(Iyz[4]*cos(theta[4]))-m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])-
				Ixz[4]*sin(theta[4])+COM[4][0]*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4]),
				Izz[4]+pow(COM[4][0],2)*m[4]+m[4]*pow(-COM[4][1]-y[1]-y[2]-y[3],2);
  }

void corriolis(const Eigen::VectorXd &theta,const Eigen::VectorXd &omega,Eigen::MatrixXd &Corriolis)
{
	//Masses of each of the links
	double m[5] = {0.6216,0.6616,0.6416,0.4014,0};
	//Center of mass of each link
	double COM[5][3] = {{-0.005,0.016,0.044},{0.,0.001,0.212},
					  {-0.001,0.,0.210},{0.010,-0.035,0.050},
					  {0.,0.,0.}};
	//Length of links 2 and 3
	double L1 = 0.280;
	//Offset position in zero configuration in the base frame
	double y[6] = {0,-0.006,0.031,-0.031,-0.038,0};
	double z[6] = {0,0.07,0.280,0.280,0.055,0.032};

	double Ixx[5] = {0.000528,0.006440,0.006348,0.000311,0.};
	double Iyy[5] = {0.000743,0.006426,0.006331,0.000383,0.};
	double Izz[5] = {0.000516,0.000393,0.000385,0.000941,0.};
	double Ixy[5] = {0.000041,0.000006,0.000006,-0.000138,0.};
	double Ixz[5] = {-0.000036,0.000007,-0.000008,0.000028,0.};
	double Iyz[5] = {0.000021,0.000596,-0.000585,-0.000063,0.};

	Corriolis << (omega[2]*(-(cos(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2])))+
		sin(theta[1]-theta[2])*(-(Ixx[2]*cos(theta[1]-theta[2]))+Ixz[2]*sin(theta[1]-theta[2]))+
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))+
		cos(theta[1]-theta[2])*(-(Ixz[2]*cos(theta[1]-theta[2]))+Izz[2]*sin(theta[1]-theta[2]))+
		2*m[2]*((COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])+COM[2][0]*sin(theta[1]-theta[2]))*
		(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Ixx[3]*cos(theta[1]-theta[2]+theta[3]))+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[3]*cos(theta[1]-theta[2]+theta[3]))+
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[3]*(L1*cos(theta[1]-theta[2])+COM[3][2]*cos(theta[1]-theta[2]+theta[3])-
		2*L1*cos(theta[1]-theta[2]+theta[3])+z[0]*cos(theta[1]-theta[2]+theta[3])+
		z[2]*cos(theta[1]-theta[2]+theta[3])+z[3]*cos(theta[1]-theta[2]+theta[3])+
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Ixz[4]*sin(theta[1]-theta[2]+theta[3])+
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Iyz[4]*sin(theta[1]-theta[2]+theta[3])+
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))-cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))))/2.+(omega[3]*(-(cos(theta[1]-theta[2])*
		(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2])))+
		sin(theta[1]-theta[2])*(-(Ixx[2]*cos(theta[1]-theta[2]))+Ixz[2]*sin(theta[1]-theta[2]))+
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))+
		cos(theta[1]-theta[2])*(-(Ixz[2]*cos(theta[1]-theta[2]))+Izz[2]*sin(theta[1]-theta[2]))+
		2*m[2]*((COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])+COM[2][0]*sin(theta[1]-theta[2]))*
		(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Ixx[3]*cos(theta[1]-theta[2]+theta[3]))+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[3]*cos(theta[1]-theta[2]+theta[3]))+
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[3]*(L1*cos(theta[1]-theta[2])+COM[3][2]*cos(theta[1]-theta[2]+theta[3])-
		2*L1*cos(theta[1]-theta[2]+theta[3])+z[0]*cos(theta[1]-theta[2]+theta[3])+
		z[2]*cos(theta[1]-theta[2]+theta[3])+z[3]*cos(theta[1]-theta[2]+theta[3])+
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Ixz[4]*sin(theta[1]-theta[2]+theta[3])+
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Iyz[4]*sin(theta[1]-theta[2]+theta[3])+
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))-cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))))/2.+(omega[4]*(cos(theta[1]-theta[2]+theta[3])*
		(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Ixx[3]*cos(theta[1]-theta[2]+theta[3])-
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])-
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[3]*(-(COM[3][2]*cos(theta[1]-theta[2]+theta[3]))+2*L1*cos(theta[1]-theta[2]+theta[3])-
		z[0]*cos(theta[1]-theta[2]+theta[3])-z[2]*cos(theta[1]-theta[2]+theta[3])-
		z[3]*cos(theta[1]-theta[2]+theta[3])-COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Ixz[4]*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Iyz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Izz[4]*sin(theta[1]-theta[2]+theta[3])-Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))+cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))))/2.+(omega[1]*(cos(theta[1])*(Ixz[1]*cos(theta[1])+Ixx[1]*sin(theta[1]))+
		sin(theta[1])*(Ixx[1]*cos(theta[1])-Ixz[1]*sin(theta[1]))-
		sin(theta[1])*(Izz[1]*cos(theta[1])+Ixz[1]*sin(theta[1]))+
		cos(theta[1])*(Ixz[1]*cos(theta[1])-Izz[1]*sin(theta[1]))+
		2*m[1]*(-((COM[1][2]+z[0])*cos(theta[1]))-COM[1][0]*sin(theta[1]))*
		(COM[1][0]*cos(theta[1])-(COM[1][2]+z[0])*sin(theta[1]))+
		cos(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2]))+
		sin(theta[1]-theta[2])*(Ixx[2]*cos(theta[1]-theta[2])-Ixz[2]*sin(theta[1]-theta[2]))-
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))+
		cos(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])-Izz[2]*sin(theta[1]-theta[2]))+
		2*m[2]*(-(L1*cos(theta[1]))-(COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])-
		COM[2][0]*sin(theta[1]-theta[2]))*(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-
		(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Ixx[3]*cos(theta[1]-theta[2]+theta[3])-
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])-
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[3]*(-(L1*cos(theta[1]))-L1*cos(theta[1]-theta[2])-COM[3][2]*cos(theta[1]-theta[2]+theta[3])+
		2*L1*cos(theta[1]-theta[2]+theta[3])-z[0]*cos(theta[1]-theta[2]+theta[3])-
		z[2]*cos(theta[1]-theta[2]+theta[3])-z[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Ixz[4]*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Iyz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Izz[4]*sin(theta[1]-theta[2]+theta[3])-Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))+cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))))/2.+omega[0]*(2*m[0]*
		(-(cos(theta[0])*(COM[0][0]*cos(theta[0])-COM[0][1]*sin(theta[0])))-
		cos(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])))*
		(-(cos(theta[0])*(COM[0][1]*cos(theta[0])+COM[0][0]*sin(theta[0])))-
		sin(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])))+
		2*m[0]*(sin(theta[0])*(COM[0][1]*cos(theta[0])+COM[0][0]*sin(theta[0]))-
		cos(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])))*
		(sin(theta[0])*(COM[0][0]*cos(theta[0])-COM[0][1]*sin(theta[0]))+
		sin(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])))+
		2*m[4]*(-((cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(sin(theta[0])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4])))+
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		-(-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0]))-cos(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		)*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(cos(theta[0])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		)+(-2*m[0]*(-(cos(theta[0])*(COM[0][0]*cos(theta[0])-COM[0][1]*sin(theta[0])))-
		cos(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])))*
		(-(cos(theta[0])*(COM[0][1]*cos(theta[0])+COM[0][0]*sin(theta[0])))-
		sin(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])))-
		2*m[0]*(sin(theta[0])*(COM[0][1]*cos(theta[0])+COM[0][0]*sin(theta[0]))-
		cos(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])))*
		(sin(theta[0])*(COM[0][0]*cos(theta[0])-COM[0][1]*sin(theta[0]))+
		sin(theta[0])*(-(COM[0][0]*cos(theta[0]))+COM[0][1]*sin(theta[0])))-
		2*m[4]*(-((cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(-(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4])))+
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		(-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0]))-cos(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[1]*(-(Ixy[1]*cos(theta[1]))+COM[1][0]*m[1]*(COM[1][1]+y[1])*cos(theta[1])-Ixy[2]*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[1]*sin(theta[1])+
		m[1]*(COM[1][1]+y[1])*(-COM[1][2]-z[0])*sin(theta[1])+Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))-
		sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))+
		cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		+cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		))+(omega[0]*(cos(theta[1])*(Ixz[1]*cos(theta[1])+Ixx[1]*sin(theta[1]))+
		sin(theta[1])*(Ixx[1]*cos(theta[1])-Ixz[1]*sin(theta[1]))-
		sin(theta[1])*(Izz[1]*cos(theta[1])+Ixz[1]*sin(theta[1]))+
		cos(theta[1])*(Ixz[1]*cos(theta[1])-Izz[1]*sin(theta[1]))+
		2*m[1]*(-((COM[1][2]+z[0])*cos(theta[1]))-COM[1][0]*sin(theta[1]))*
		(COM[1][0]*cos(theta[1])-(COM[1][2]+z[0])*sin(theta[1]))+
		cos(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2]))+
		sin(theta[1]-theta[2])*(Ixx[2]*cos(theta[1]-theta[2])-Ixz[2]*sin(theta[1]-theta[2]))-
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))+
		cos(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])-Izz[2]*sin(theta[1]-theta[2]))+
		2*m[2]*(-(L1*cos(theta[1]))-(COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])-
		COM[2][0]*sin(theta[1]-theta[2]))*(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-
		(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Ixx[3]*cos(theta[1]-theta[2]+theta[3])-
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])-
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[3]*(-(L1*cos(theta[1]))-L1*cos(theta[1]-theta[2])-COM[3][2]*cos(theta[1]-theta[2]+theta[3])+
		2*L1*cos(theta[1]-theta[2]+theta[3])-z[0]*cos(theta[1]-theta[2]+theta[3])-
		z[2]*cos(theta[1]-theta[2]+theta[3])-z[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Ixz[4]*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Iyz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Izz[4]*sin(theta[1]-theta[2]+theta[3])-Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))+cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))))/2.+omega[3]*((-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])+Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[2]*((Ixy[2]*cos(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])+Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[4]*((Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		m[4]*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[2]*(-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))-
		sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))-
		cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		-cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		))+(omega[0]*(-(cos(theta[1]-theta[2])*
		(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2])))+
		sin(theta[1]-theta[2])*(-(Ixx[2]*cos(theta[1]-theta[2]))+Ixz[2]*sin(theta[1]-theta[2]))+
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))+
		cos(theta[1]-theta[2])*(-(Ixz[2]*cos(theta[1]-theta[2]))+Izz[2]*sin(theta[1]-theta[2]))+
		2*m[2]*((COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])+COM[2][0]*sin(theta[1]-theta[2]))*
		(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Ixx[3]*cos(theta[1]-theta[2]+theta[3]))+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[3]*cos(theta[1]-theta[2]+theta[3]))+
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[3]*(L1*cos(theta[1]-theta[2])+COM[3][2]*cos(theta[1]-theta[2]+theta[3])-
		2*L1*cos(theta[1]-theta[2]+theta[3])+z[0]*cos(theta[1]-theta[2]+theta[3])+
		z[2]*cos(theta[1]-theta[2]+theta[3])+z[3]*cos(theta[1]-theta[2]+theta[3])+
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Ixz[4]*sin(theta[1]-theta[2]+theta[3])+
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Iyz[4]*sin(theta[1]-theta[2]+theta[3])+
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))-cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))))/2.+omega[3]*((Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[1]*((Ixy[2]*cos(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])+Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[4]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[3]*cos(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		L1*m[4]*sin(theta[3])*sin(theta[4])*(-(cos(theta[4])*
		(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		L1*m[4]*cos(theta[4])*sin(theta[3])*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[3]*(Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))-
		sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))-
		cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		-cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		))+(omega[0]*(-(cos(theta[1]-theta[2])*
		(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2])))+
		sin(theta[1]-theta[2])*(-(Ixx[2]*cos(theta[1]-theta[2]))+Ixz[2]*sin(theta[1]-theta[2]))+
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))+
		cos(theta[1]-theta[2])*(-(Ixz[2]*cos(theta[1]-theta[2]))+Izz[2]*sin(theta[1]-theta[2]))+
		2*m[2]*((COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])+COM[2][0]*sin(theta[1]-theta[2]))*
		(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Ixx[3]*cos(theta[1]-theta[2]+theta[3]))+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[3]*cos(theta[1]-theta[2]+theta[3]))+
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[3]*(L1*cos(theta[1]-theta[2])+COM[3][2]*cos(theta[1]-theta[2]+theta[3])-
		2*L1*cos(theta[1]-theta[2]+theta[3])+z[0]*cos(theta[1]-theta[2]+theta[3])+
		z[2]*cos(theta[1]-theta[2]+theta[3])+z[3]*cos(theta[1]-theta[2]+theta[3])+
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Ixz[4]*sin(theta[1]-theta[2]+theta[3])+
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Iyz[4]*sin(theta[1]-theta[2]+theta[3])+
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))-cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))))/2.+omega[2]*((Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[4]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[1]*((-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])+Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[4]*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))-
		sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))+
		cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		+cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		))+(omega[0]*(cos(theta[1]-theta[2]+theta[3])*
		(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+Ixx[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Ixx[3]*cos(theta[1]-theta[2]+theta[3])-
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])-
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[3]*(-(COM[3][2]*cos(theta[1]-theta[2]+theta[3]))+2*L1*cos(theta[1]-theta[2]+theta[3])-
		z[0]*cos(theta[1]-theta[2]+theta[3])-z[2]*cos(theta[1]-theta[2]+theta[3])-
		z[3]*cos(theta[1]-theta[2]+theta[3])-COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)+
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Ixz[4]*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Iyz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Izz[4]*sin(theta[1]-theta[2]+theta[3])-Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))+cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))))/2.+omega[3]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[2]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[3]*cos(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		L1*m[4]*sin(theta[3])*sin(theta[4])*(-(cos(theta[4])*
		(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		L1*m[4]*cos(theta[4])*sin(theta[3])*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[1]*((Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		m[4]*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[1]*((-(Ixy[1]*cos(theta[1]))+COM[1][0]*m[1]*(COM[1][1]+y[1])*cos(theta[1])-
		Ixy[2]*cos(theta[1]-theta[2])-Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[1]*sin(theta[1])+
		m[1]*(COM[1][1]+y[1])*(-COM[1][2]-z[0])*sin(theta[1])+Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[1]*cos(theta[1])-COM[1][0]*m[1]*(COM[1][1]+y[1])*cos(theta[1])+Ixy[2]*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[1]*sin(theta[1])-
		m[1]*(COM[1][1]+y[1])*(-COM[1][2]-z[0])*sin(theta[1])-Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[3]*((Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])+Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[2]*((-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])+Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[4]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])-
		COM[4][0]*m[4]*(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		m[4]*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[0]*(-(m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		cos(theta[4])*(-((cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(-(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4])))+
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))-(-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0]))-
		cos(theta[0])*sin(theta[4]))*(cos(theta[0])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(cos(theta[0])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))))+(-(cos(theta[1])*(Ixz[1]*cos(theta[1])+Ixx[1]*sin(theta[1])))-
		sin(theta[1])*(Ixx[1]*cos(theta[1])-Ixz[1]*sin(theta[1]))+
		sin(theta[1])*(Izz[1]*cos(theta[1])+Ixz[1]*sin(theta[1]))-
		cos(theta[1])*(Ixz[1]*cos(theta[1])-Izz[1]*sin(theta[1]))-
		2*m[1]*(-((COM[1][2]+z[0])*cos(theta[1]))-COM[1][0]*sin(theta[1]))*
		(COM[1][0]*cos(theta[1])-(COM[1][2]+z[0])*sin(theta[1]))-
		cos(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2]))-
		sin(theta[1]-theta[2])*(Ixx[2]*cos(theta[1]-theta[2])-Ixz[2]*sin(theta[1]-theta[2]))+
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))-
		cos(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])-Izz[2]*sin(theta[1]-theta[2]))-
		2*m[2]*(-(L1*cos(theta[1]))-(COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])-
		COM[2][0]*sin(theta[1]-theta[2]))*(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-
		(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixx[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(Ixx[3]*cos(theta[1]-theta[2]+theta[3])-
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])-
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[3]*(-(L1*cos(theta[1]))-L1*cos(theta[1]-theta[2])-COM[3][2]*cos(theta[1]-theta[2]+theta[3])+
		2*L1*cos(theta[1]-theta[2]+theta[3])-z[0]*cos(theta[1]-theta[2]+theta[3])-
		z[2]*cos(theta[1]-theta[2]+theta[3])-z[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)-
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Ixz[4]*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Iyz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Izz[4]*sin(theta[1]-theta[2]+theta[3])-Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[2]*(2*L1*m[2]*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[2])-
		2*L1*m[2]*cos(theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		2*L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[2]-theta[3])-2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		2*L1*m[3]*cos(theta[2]-theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		2*L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		(omega[3]*(2*L1*m[2]*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[2])-
		2*L1*m[2]*cos(theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		2*L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[2]-theta[3])-2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		2*L1*m[3]*cos(theta[2]-theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		2*L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		(omega[4]*(2*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		pow(cos(theta[4]),2)*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		2*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		2*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
		2*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)+
		2*m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		omega[0]*((-(Ixy[1]*cos(theta[1]))+COM[1][0]*m[1]*(COM[1][1]+y[1])*cos(theta[1])-Ixy[2]*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[1]*sin(theta[1])+
		m[1]*(COM[1][1]+y[1])*(-COM[1][2]-z[0])*sin(theta[1])+Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[1]*cos(theta[1])-COM[1][0]*m[1]*(COM[1][1]+y[1])*cos(theta[1])+Ixy[2]*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[1]*sin(theta[1])-
		m[1]*(COM[1][1]+y[1])*(-COM[1][2]-z[0])*sin(theta[1])-Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[1]*(2*L1*m[2]*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[2])-
		2*L1*m[2]*cos(theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		2*L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[2]-theta[3])-2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		2*L1*m[3]*cos(theta[2]-theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		2*L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		omega[2]*(COM[2][0]*L1*m[2]*cos(theta[2])+L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])+
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])-L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)-L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))+
		omega[3]*((-(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3]))+
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(COM[2][0]*L1*m[2]*cos(theta[2])+L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])+
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])-L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)-L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[4]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(-(L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[3]))+L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[3])+
		m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*(-COM[3][0]-L1*sin(theta[3]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		L1*m[3]*cos(theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[3])*pow(sin(theta[4]),2)-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])+Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[1]*(2*L1*m[2]*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[2])-
		2*L1*m[2]*cos(theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		2*L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[2]-theta[3])-2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		2*L1*m[3]*cos(theta[2]-theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		2*L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		omega[3]*(-(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3]))+
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))+
		omega[4]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(COM[3][0]*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		pow(sin(theta[4]),2)+m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[2]*((-(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3]))+
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(COM[2][0]*L1*m[2]*cos(theta[2])+L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])+
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])-L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)-L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])+Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])-
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[4]*(-(m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3])))+
		COM[4][0]*m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4]))+
		(omega[1]*(2*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		pow(cos(theta[4]),2)*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		2*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		2*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
		2*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)+
		2*m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		omega[3]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(COM[3][0]*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		pow(sin(theta[4]),2)+m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[2]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(-(L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[3]))+L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[3])+
		m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*(-COM[3][0]-L1*sin(theta[3]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		L1*m[3]*cos(theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[3])*pow(sin(theta[4]),2)-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])-
		COM[4][0]*m[4]*(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		m[4]*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[3]*((-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[2]*((Ixy[2]*cos(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[1]*((Ixy[2]*cos(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))-Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])+
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])+
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[4]*((Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])-
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[3]*cos(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		L1*m[4]*sin(theta[3])*sin(theta[4])*(-(cos(theta[4])*
		(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		L1*m[4]*cos(theta[4])*sin(theta[3])*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[0]*(m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(-((cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(sin(theta[0])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4])))+
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		-(-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0]))-cos(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		)+(cos(theta[1]-theta[2])*(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2]))-
		sin(theta[1]-theta[2])*(-(Ixx[2]*cos(theta[1]-theta[2]))+Ixz[2]*sin(theta[1]-theta[2]))-
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))-
		cos(theta[1]-theta[2])*(-(Ixz[2]*cos(theta[1]-theta[2]))+Izz[2]*sin(theta[1]-theta[2]))-
		2*m[2]*((COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])+COM[2][0]*sin(theta[1]-theta[2]))*
		(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))
		+cos(theta[1]-theta[2]+theta[3])*
		(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+Ixx[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Ixx[3]*cos(theta[1]-theta[2]+theta[3]))+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[3]*cos(theta[1]-theta[2]+theta[3]))+
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[3]*(L1*cos(theta[1]-theta[2])+COM[3][2]*cos(theta[1]-theta[2]+theta[3])-
		2*L1*cos(theta[1]-theta[2]+theta[3])+z[0]*cos(theta[1]-theta[2]+theta[3])+
		z[2]*cos(theta[1]-theta[2]+theta[3])+z[3]*cos(theta[1]-theta[2]+theta[3])+
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)-
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Ixz[4]*sin(theta[1]-theta[2]+theta[3])+
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Iyz[4]*sin(theta[1]-theta[2]+theta[3])+
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[1]*(-2*L1*m[2]*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[2])+
		2*L1*m[2]*cos(theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		2*L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[2]-theta[3])+2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])+
		2*L1*m[3]*cos(theta[2]-theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[2]-theta[3])*pow(sin(theta[4]),2)+
		2*L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		omega[3]*((COM[3][0]*L1*m[3]*cos(theta[2]-theta[3])-
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)+
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(COM[2][0]*L1*m[2]*cos(theta[2])+L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])+
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])-L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)-L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[2]*((COM[2][0]*L1*m[2]*cos(theta[2])+L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])+
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])-L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)-L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(-(COM[2][0]*L1*m[2]*cos(theta[2]))-L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])-
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])+L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)+L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[4]*((-(L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3]))+
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(-(L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[3]))+L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[3])+
		m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*(-COM[3][0]-L1*sin(theta[3]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		L1*m[3]*cos(theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[3])*pow(sin(theta[4]),2)-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((Ixy[2]*cos(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))-Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])+
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])+
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[4]*(-2*L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[3])-
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[3])-
		2*L1*m[3]*cos(theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[3])*pow(sin(theta[4]),2)-
		2*L1*m[4]*cos(theta[3])*(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+
		(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		omega[1]*((COM[2][0]*L1*m[2]*cos(theta[2])+L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])+
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])-L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)-L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(-(COM[2][0]*L1*m[2]*cos(theta[2]))-L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])-
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])+L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)+L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((Ixy[2]*cos(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[4]*(-(COM[3][0]*L1*m[3]*cos(theta[3]))-L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		omega[1]*((COM[3][0]*L1*m[3]*cos(theta[2]-theta[3])-
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)+
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(COM[2][0]*L1*m[2]*cos(theta[2])+L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])+
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])-L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)-L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))+COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])-
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])-
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[4]*(-(L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[3]))+
		COM[4][0]*L1*m[4]*sin(theta[3])*sin(theta[4]))+
		(omega[3]*(-(COM[3][0]*L1*m[3]*cos(theta[3]))-L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		(omega[2]*(-2*L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[3])-
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[3])-
		2*L1*m[3]*cos(theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[3])*pow(sin(theta[4]),2)-
		2*L1*m[4]*cos(theta[3])*(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+
		(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		omega[1]*((-(L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3]))+
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(-(L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[3]))+L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[3])+
		m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*(-COM[3][0]-L1*sin(theta[3]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		L1*m[3]*cos(theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[3])*pow(sin(theta[4]),2)-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])-
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[3]*cos(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		L1*m[4]*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		L1*m[4]*sin(theta[3])*sin(theta[4])*(-(cos(theta[4])*
		(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		L1*m[4]*cos(theta[4])*sin(theta[3])*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[3]*((Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[2]*((Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[4]*((Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])-
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[1]*((-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))-Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])+
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])+
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[0]*(-(m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(-((cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(-(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4])))+
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))-(-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0]))-
		cos(theta[0])*sin(theta[4]))*(cos(theta[0])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(cos(theta[0])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		))))+(cos(theta[1]-theta[2])*
		(Ixz[2]*cos(theta[1]-theta[2])+Ixx[2]*sin(theta[1]-theta[2]))-
		sin(theta[1]-theta[2])*(-(Ixx[2]*cos(theta[1]-theta[2]))+Ixz[2]*sin(theta[1]-theta[2]))-
		sin(theta[1]-theta[2])*(Izz[2]*cos(theta[1]-theta[2])+Ixz[2]*sin(theta[1]-theta[2]))-
		cos(theta[1]-theta[2])*(-(Ixz[2]*cos(theta[1]-theta[2]))+Izz[2]*sin(theta[1]-theta[2]))-
		2*m[2]*((COM[2][2]-L1+z[0]+z[2])*cos(theta[1]-theta[2])+COM[2][0]*sin(theta[1]-theta[2]))*
		(COM[2][0]*cos(theta[1]-theta[2])-L1*sin(theta[1])-(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2]))
		+cos(theta[1]-theta[2]+theta[3])*
		(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+Ixx[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Ixx[3]*cos(theta[1]-theta[2]+theta[3]))+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[3]*cos(theta[1]-theta[2]+theta[3]))+
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[3]*(L1*cos(theta[1]-theta[2])+COM[3][2]*cos(theta[1]-theta[2]+theta[3])-
		2*L1*cos(theta[1]-theta[2]+theta[3])+z[0]*cos(theta[1]-theta[2]+theta[3])+
		z[2]*cos(theta[1]-theta[2]+theta[3])+z[3]*cos(theta[1]-theta[2]+theta[3])+
		COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))+
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)-
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Ixz[4]*sin(theta[1]-theta[2]+theta[3])+
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+Iyz[4]*sin(theta[1]-theta[2]+theta[3])+
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*(-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[1]*(-2*L1*m[2]*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[2])+
		2*L1*m[2]*cos(theta[2])*(COM[2][0]-L1*sin(theta[2]))-
		2*L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		sin(theta[2]-theta[3])+2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+
		L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])+
		2*L1*m[3]*cos(theta[2]-theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[2]-theta[3])*pow(sin(theta[4]),2)+
		2*L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		omega[3]*((-(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3]))+
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3])-L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)+
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[4]*((-(L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3]))+
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(COM[3][0]*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		pow(sin(theta[4]),2)+m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[2]*((-(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3]))+
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(-(COM[2][0]*L1*m[2]*cos(theta[2]))-L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])-
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])+L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)+L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[2]*cos(theta[1]-theta[2]))-Ixy[3]*cos(theta[1]-theta[2]+theta[3])+Iyz[2]*sin(theta[1]-theta[2])+
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[2])*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(-COM[2][2]+L1-z[0]-z[2]-L1*cos(theta[2]))*sin(theta[1]-theta[2])+
		L1*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*sin(theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])*(COM[2][0]-L1*sin(theta[2]))+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[2]-theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))+Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])+
		L1*m[4]*cos(theta[2]-theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		L1*m[4]*cos(theta[4])*sin(theta[2]-theta[3])*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[4]*(-(COM[3][0]*L1*m[3]*cos(theta[3]))-L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		omega[1]*((-(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3]))+
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(-(COM[2][0]*L1*m[2]*cos(theta[2]))-L1*m[2]*(COM[2][2]-L1+z[0]+z[2])*sin(theta[2])-
		L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		sin(theta[2]-theta[3])+L1*m[3]*cos(theta[2]-theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[2]-theta[3])*
		pow(sin(theta[4]),2)+L1*m[4]*cos(theta[2]-theta[3])*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[2]*cos(theta[1]-theta[2])-COM[2][0]*m[2]*(COM[2][1]+y[1]+y[2])*cos(theta[1]-theta[2])+
		Ixy[3]*cos(theta[1]-theta[2]+theta[3])-Iyz[2]*sin(theta[1]-theta[2])+
		m[2]*(COM[2][1]+y[1]+y[2])*(COM[2][2]-L1+z[0]+z[2])*sin(theta[1]-theta[2])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[1]*((-(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3]))+
		L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.+
		(COM[3][0]*L1*m[3]*cos(theta[2]-theta[3])-L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[2]-theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[2]-theta[3])*pow(sin(theta[4]),2)+
		L1*m[4]*cos(theta[2]-theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(-(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(-(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])+Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[2]*(-(COM[3][0]*L1*m[3]*cos(theta[3]))-L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[3])+
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[3])*pow(sin(theta[4]),2)-
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		omega[1]*((-(L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3]))+
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(COM[3][0]*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))+
		m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		pow(sin(theta[4]),2)+m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])-
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))+
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))+
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[4]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])-
		COM[4][0]*m[4]*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[3]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[2]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		L1*m[4]*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(Ixy[4]*cos(theta[4])+Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(Iyy[4]*cos(theta[4])+Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Iyz[4]*cos(theta[4])+Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		L1*m[4]*sin(theta[3])*sin(theta[4])*(-(cos(theta[4])*
		(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[3])*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[1]*((Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[3]*cos(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*(-(Ixy[4]*cos(theta[4]))-Ixx[4]*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*(-(Iyy[4]*cos(theta[4]))-Ixy[4]*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(-(Iyz[4]*cos(theta[4]))-Ixz[4]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		m[4]*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.)+
		omega[0]*(m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*
		(-((cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))
		)))-(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(sin(theta[0])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4])))+
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		-(-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0]))-cos(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		-(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))
		)+(-(cos(theta[1]-theta[2]+theta[3])*
		(Ixz[3]*cos(theta[1]-theta[2]+theta[3])+Ixx[3]*sin(theta[1]-theta[2]+theta[3])))-
		sin(theta[1]-theta[2]+theta[3])*(Ixx[3]*cos(theta[1]-theta[2]+theta[3])-
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[3]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[3]*sin(theta[1]-theta[2]+theta[3]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[3]*cos(theta[1]-theta[2]+theta[3])-
		Izz[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[3]*(-(COM[3][2]*cos(theta[1]-theta[2]+theta[3]))+2*L1*cos(theta[1]-theta[2]+theta[3])-
		z[0]*cos(theta[1]-theta[2]+theta[3])-z[2]*cos(theta[1]-theta[2]+theta[3])-
		z[3]*cos(theta[1]-theta[2]+theta[3])-COM[3][0]*sin(theta[1]-theta[2]+theta[3]))*
		(COM[3][0]*cos(theta[1]-theta[2]+theta[3])-L1*sin(theta[1])-L1*sin(theta[1]-theta[2])-
		COM[3][2]*sin(theta[1]-theta[2]+theta[3])+2*L1*sin(theta[1]-theta[2]+theta[3])-
		z[0]*sin(theta[1]-theta[2]+theta[3])-z[2]*sin(theta[1]-theta[2]+theta[3])-
		z[3]*sin(theta[1]-theta[2]+theta[3]))-
		2*m[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[1]-theta[2]+theta[3])*
		pow(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]),2)-
		cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Ixz[4]*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Iyz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Izz[4]*sin(theta[1]-theta[2]+theta[3])-Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])+Ixx[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Ixy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[1]-theta[2]+theta[3])*sin(theta[4])*
		(Iyz[4]*cos(theta[1]-theta[2]+theta[3])+Ixy[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyy[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(Izz[4]*cos(theta[1]-theta[2]+theta[3])+
		Ixz[4]*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		2*m[4]*(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		2*m[4]*(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[1]*(-2*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		pow(cos(theta[4]),2)*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))-
		2*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		2*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
		2*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)-
		2*m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))))/2.+
		omega[4]*((m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))-
		COM[4][0]*m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4]))/2.+
		(-(m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3])))+
		COM[4][0]*m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4]))/2.)+
		omega[3]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(-(COM[3][0]*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))-
		m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		pow(sin(theta[4]),2)-m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[2]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*sin(theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		pow(cos(theta[4]),2)*sin(theta[3])-
		m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*(-COM[3][0]-L1*sin(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))-
		m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		L1*m[3]*cos(theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[3])*pow(sin(theta[4]),2)+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)+
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((L1*cos(theta[1])+L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-(L1*(cos(theta[1])+cos(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[3]*cos(theta[1]-theta[2]+theta[3])+
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*
		(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-
		L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])-
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-COM[4][1]*sin(theta[4])-
		y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))+
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4])*
		(-(cos(theta[4])*(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		m[4]*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[3]*(COM[3][0]*L1*m[3]*cos(theta[3])+L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[3])*pow(sin(theta[4]),2)+
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		(omega[2]*(2*L1*m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*sin(theta[3])+
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*sin(theta[3])+
		2*L1*m[3]*cos(theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		2*L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[3])*pow(sin(theta[4]),2)+
		2*L1*m[4]*cos(theta[3])*(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+
		(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		omega[4]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[3])*sin(theta[4]))/2.+
		(-(L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[3]))+COM[4][0]*L1*m[4]*sin(theta[3])*sin(theta[4]))/
		2.)+omega[1]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3]-L1*cos(theta[2]-theta[3])-L1*cos(theta[3]))*sin(theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		pow(cos(theta[4]),2)*sin(theta[3])-
		m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*(-COM[3][0]-L1*sin(theta[3]))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))-
		m[3]*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))+
		L1*m[3]*cos(theta[3])*(COM[3][0]-L1*sin(theta[2]-theta[3])+L1*sin(theta[3]))-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		sin(theta[3])*pow(sin(theta[4]),2)+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*pow(sin(theta[4]),2)+
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-L1*sin(theta[2]-theta[3])+L1*sin(theta[3])-
		COM[4][1]*sin(theta[4])-y[1]*sin(theta[4])-y[2]*sin(theta[4])-y[3]*sin(theta[4]))-
		m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(-(Ixy[3]*cos(theta[1]-theta[2]+theta[3]))-
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*sin(theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])*(-COM[3][0]-L1*sin(theta[3]))+
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])+
		L1*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(COM[3][2]-2*L1+z[0]+z[2]+z[3]+L1*cos(theta[3]))*
		sin(theta[1]-theta[2]+theta[3])+
		L1*m[4]*cos(theta[3])*sin(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(-(COM[4][0]*cos(theta[4]))-L1*sin(theta[3])+(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))-
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		L1*m[4]*sin(theta[3])*sin(theta[4])*(-(cos(theta[4])*
		(L1*sin(theta[1])+L1*sin(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])))+
		cos(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4]+L1*cos(theta[3]))*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))+
		L1*m[4]*cos(theta[4])*sin(theta[3])*(-((cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))))-
		(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-sin(theta[0])*sin(theta[4]))*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		(omega[2]*(COM[3][0]*L1*m[3]*cos(theta[3])+L1*m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*sin(theta[3])-
		L1*m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[3])*pow(sin(theta[4]),2)+
		L1*m[4]*cos(theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))/2.+
		omega[1]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[2]-theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[2]-theta[3])*sin(theta[4]))/2.+
		(-(COM[3][0]*m[3]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3])))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*pow(cos(theta[4]),2)*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))-
		m[3]*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*(-(L1*sin(theta[2]-theta[3]))+L1*sin(theta[3]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*
		pow(sin(theta[4]),2)-m[4]*(L1*cos(theta[2]-theta[3])+L1*cos(theta[3]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))/2.)+
		omega[0]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((-(L1*cos(theta[1]-theta[2]))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))*cos(theta[4]))+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(L1*cos(theta[1]-theta[2])+(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(L1*cos(theta[1]-theta[2])+
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])+
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))-
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixy[3]*cos(theta[1]-theta[2]+theta[3])-
		COM[3][0]*m[3]*(COM[3][1]+y[1]+y[2]+y[3])*cos(theta[1]-theta[2]+theta[3])-
		Iyz[3]*sin(theta[1]-theta[2]+theta[3])-
		m[3]*(COM[3][1]+y[1]+y[2]+y[3])*(-COM[3][2]+2*L1-z[0]-z[2]-z[3])*sin(theta[1]-theta[2]+theta[3])-
		m[4]*cos(theta[1]-theta[2]+theta[3])*
		(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))+
		sin(theta[4])*(Ixx[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Ixz[4]*sin(theta[1]-theta[2]+theta[3])-Ixy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))+
		cos(theta[4])*(Ixy[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		Iyz[4]*sin(theta[1]-theta[2]+theta[3])-Iyy[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4]))-
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[4])*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[4])*
		(cos(theta[0])*(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+
		cos(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.),
		omega[2]*((L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[3])-
		COM[4][0]*L1*m[4]*sin(theta[3])*sin(theta[4]))/2.+
		(-(L1*m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*sin(theta[3]))+COM[4][0]*L1*m[4]*sin(theta[3])*sin(theta[4]))/
		2.)+omega[1]*((m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*
		(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))-
		COM[4][0]*m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4]))/2.+
		(-(m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*cos(theta[4])*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3])))+
		COM[4][0]*m[4]*(L1*sin(theta[2]-theta[3])-L1*sin(theta[3]))*sin(theta[4]))/2.)+
		omega[0]*((-(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))+
		Izz[4]*sin(theta[1]-theta[2]+theta[3])+Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])-
		COM[4][0]*m[4]*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))-
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.+
		(Ixz[4]*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-Izz[4]*sin(theta[1]-theta[2]+theta[3])-
		Iyz[4]*cos(theta[1]-theta[2]+theta[3])*sin(theta[4])+
		COM[4][0]*m[4]*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]+y[4]*sin(theta[4])))+
		m[4]*(-COM[4][1]-y[1]-y[2]-y[3])*(cos(theta[0])*
		(cos(theta[1]-theta[2]+theta[3])*cos(theta[4])*sin(theta[0])+cos(theta[0])*sin(theta[4]))*
		(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		-sin(theta[0])*(cos(theta[0])*cos(theta[1]-theta[2]+theta[3])*cos(theta[4])-
		sin(theta[0])*sin(theta[4]))*(-((COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*
		cos(theta[1]-theta[2]+theta[3]))-
		sin(theta[1]-theta[2]+theta[3])*(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4])))
		+cos(theta[4])*sin(theta[0])*sin(theta[1]-theta[2]+theta[3])*
		(sin(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))-
		cos(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))+
		cos(theta[0])*cos(theta[4])*sin(theta[1]-theta[2]+theta[3])*
		(cos(theta[0])*(y[4]+(COM[4][1]+y[1]+y[2]+y[3])*cos(theta[4])+COM[4][0]*sin(theta[4]))+
		sin(theta[0])*(-(L1*(sin(theta[1])+sin(theta[1]-theta[2])))-
		(COM[4][2]-2*L1+z[0]+z[2]+z[3]+z[4])*sin(theta[1]-theta[2]+theta[3])+
		cos(theta[1]-theta[2]+theta[3])*
		(COM[4][0]*cos(theta[4])-(COM[4][1]+y[1]+y[2]+y[3])*sin(theta[4]))))))/2.);
	
}
